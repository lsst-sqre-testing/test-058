sudo: false
language: python
matrix:
  include:
    - python: "3.5"
      env: LTD_MASON_BUILD=true
install:
  - pip install -r requirements.txt
  - pip install "ltd-mason>=0.2,<0.3"
script:
  - sphinx-build -b html -a -n -d _build/doctree . _build/html
after_success:
  - ltd-mason-travis --html-dir _build/html
env:
  global:
    - LTD_MASON_BUILD=false  # disable builds in regular text matrix
    - LTD_MASON_PRODUCT="test-058"
    # Add AWS and LTD Keeper credentials as encrypted secrets here

    - secure: "iUas65sqF7iTsoqBC+wdtQv7SYaaTALAdWWo9ubMvr4w2N1HQjxfEa5aMLr4S6K0qQmY1n2qq8SwtTHbZmww2R3CZKHKgdtKlat9DzcCxeaLgParNqW/AD4fDXIQPMGimA8yjRXiRMcsYfsjcQWM/fXO9QT8YIH855114QAszuG6j/luQgntvB6V8kkbfAgLsPqaWTzaHmuK4trc8buZ7FNfVNS8r4GEIF4FRgL5FGcfaehI+sCzPZCNB4hUdAOCPrQugpIrQgKL4G0hdxJb1xYCb3GSL+wVQdzR7tcjr0nMTO0Lesey0bcZn/XZEe9DPNVO/MdhTNE65XG4+AWPzrACFFCPQuwGADDqN8zj8W5jab8TItzj48lNVpd9/vjPsnJSNrpHDb8NA//yijxAbFa7rHIaUPF82xKQjFaWexbmUYm3CKGYUpKjk48mj3XySBROlggu9fFfT7EVKufz3XUPgXUtyGc/EdCOrfr1xG4ry3xU7eNfVIxlH5kPQhO2246ZZRMhHx0YdCyoWR42A3adx0x7YFQZkB7mgEOXZYp9nMpGKl7La4Ay6rYM5xjlJreOiD/Jn9QsQlLtD+aBlnYeiSGl8YdVPg9L9VGKaFeklPNTYg+10aHv+AQgBFq2fhVDFiuKpXe1gWYlzocTzAADWjifT9pZU8c7jWGZ1NU="
    - secure: "ndL1+LHd1E6SBg//TP62GcpDnOoQNcbyKj5/FR39oD6OduxOuPJwCVgcdZ5DvcN2YHWi1vqJDvxUNrIT5MSEV6Xl/m/vgAtSKvHVYpSrMz/BykqbIi7tC8dI7ihmWWLktJp4MLCO6KIAm/N7EHepB2VyDxhuucxSPS/fTN6Qx6rwcOEot4SAGrDqVqE3taVYWirpAisXftZPyqxdXI+bAwb965EZg2XJ6gxjZvZxinySKsU/BW8dd8Lkt/MyHEj4MaWlZFk6IIfR+v3wa9MA1K3cMLZ9aQOhwLpYYergkQ4OxVMoV2HZ+9vptf2OfCbVTyQSVS9iTHxrG7Qykup247f/L6UiTbwif4pxom8PpddGk+mpotGJnZRFaexTG4hSHWeMFozjt38uHmE5buqNTp8h93lHRAdQFcRzrLTzzToyMK2gqxjJKlH9DLYTVYonZFaobZHopqZ/ciNYYpm9qL2fa/NLU6y7kMoKlbxU/YKPMJshWkvuSNqxq3a6vUlu+WHS+VGqE3a6BvNbiznR/14+VAPFZdMPRkqW7bb29BwWH5Q/cAQMphyDUgflYwTw8IIS3qY6TNgAaY26GIeQ2uHdqhQ+CkBWlp8OQfnHGmtwFgrBaCjr5iEx2sWweu3g5YdPR2mijP+y73irLxf1B/9+nwdNIZpg6SJdvhdF4LI="
    - secure: "kTfpq1rIMtCZ6QyMDzn3ErO88sqdim//q76A4Rj38SZRxLjlh/PKbK3ukemXP83U5s4SjLUT50fCUU5Q4/ZaWgxpf6Iz9u4L/FpaNRyHWY3KMtCxAccqpo9TzZGmMfwMVyxcsyaBBqT8fA1dDwhRjhkcNLPmz/PvQk/JymxB4rEFZjJPWGMQEYXHEjOXVl7I7aNz0ngw95TZkaw0gPsFZnSPcTiRv7JyqBQVdEF6CTHpgXRsiNdSyzD8z/NPzBlUR/LiZ1jinfcQJ8b0BYu49LxGgL5LlNjjP/p24QV7igp7CMmdZ2HOgm7fYzC2IZRPXph45pBHAMbrRjKW0k5A2Xv2ybSflfTOSsTi0HTuy+f1AaxBnCyozmplM/znXKis55+xfVBnfyacUOlE2CmsjqFNGJUaFcyRaOtS/Gi2vCM6dG5NUughlZI6Dx71FVIVGlnP1OhSKaApKxpRIelwK07jQtU1BvDMInJj18Nms12ext1X8uL+gNRWKBCT1UIZx0I1CS0/9JgkmUt8sJBHdQE/8TfX7zCBlVj6WzFMV5fxs+GjIu5urk0dC3iWkR66EzbhHzh7kM4aAIiLzhDvVNMvpQ07PILnowDrpLFf5i1JLc0qnzU6h+hC/i3z5kyS0H82DGwP1iZXwuwpFmyqyMyEK1LtY0uhevIImQ5yWAk="
    - secure: "C/0hwU/fEovrfT0O0OEbwmRdaPDmomCX2tEYgozFixbqCqsymqQIhNSQ+tett140cMrrKXrt8UntOulYcmhMAIAZnRZaZaSUzrCD8FUY6GoOisBaTvjJ9uvhx7X/YeXWYDreip2dEqLL8+5A/ZSnviXSfTNCaY+51DZiz6FazFh3JzF+9dEEmsCokq81CchVhgseBm/j9BS8UR1ImgCbOZ+d+cz4QUh40BXsVSIdbYu6lX1ZUkgddJqRsEthXetL/j8JFN1sdIJkJcJYDzPaWNiuQ49YKXlYInPM8Q7TYyyTSIKzVONJIo4r/bZ5S5Wb8eRfeqZZTPqnhPIufxJySM8B83hg2iGXjImzwxBeZ5Ia5vlYW9FN6PVjjdGU29YcZf2vh/knKxPh7Kswku1Out+yExDMQph7tL7q2Y+lGZ5zy7GoDi0slPUK6J9jTtvR1P7iUdj/yKyuZZDhoQXXW2OMGJ86gSNBlHqTcouvn6yQRf2/+0TSXdWh94Zsn4I3RHy3qK+nNWx979AkOBTmVB8x3pQa03RQyXusraTwXT0WuXojSgQDuyQx8SVg42smZaHhS057VgOT1X7tzTThrNJB4R4U6NvZcvL0dLaEuiVZztl3wsg1kaP9MUmFc1XXtk7u2/2kZPwIGza2xxqmKwkYv4dn4+xHuHd0YOpwCRw="
    - secure: "Pq2dHypJ4yiEYnHr38jmbTpHmarYjKFOs+DBHma7zGKJb1KuSbX6O0wpnDozh16ySlE3T9f1x23dre+U4fCawYsj7pw7mZRI/jJ5a4TWiDdbRB2Qj4SGowzFIwB0sLHi4cbmH4j9bHKLT8pRa3CceDX9hzYrejBFx2QBbhnr1wxmIUUKS4AoVoAA0ELKdQcRdSMeQJFlNlIBaa5jS/Z/DJZnN7Zw05Gw/DJskjjXzTAAK3d91wQXQlHDR7Q1yejYchchvVEAqa/W1fj+PIs78PclspAumvlF4Km+25HWZIl+GOgREQO825mS/6vdjgpe5t1VztSvJ74577MfzTTKz1/57giiakClJtR+Gh5zNQP9noiFzIXDoSh0oHVNHVtQitX4RzKN4v8IUKf0U109x1UGVqJBjbJD189idUXQTI+GB4Xgb54qCeMMEbD0flvigwsJhZqNHp0ctqNUlMbXmmxrotKeTUwqCofyfC2PmLAfT8HTix9feVSCHR/+XNhIokLAjxkQc5rGTQ2u+aUGkQuvkVDduxDE6poWu49UHwaKHORRN/e/hhKv5hOgpdgoMsUlwtTHjG4WdN6+BYX84vKGOhoy0Z6KnWg7Lc7xggHahwReqBpOw1ky9sGpgFrbHwv1klp9+8oatcYXjpBlXEzUtTmApo7vMhJDUGkbRSg="
